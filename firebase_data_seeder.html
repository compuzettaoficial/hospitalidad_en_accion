<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Datos de Ejemplo - Hospitalidad en Acci√≥n</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .header h1 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #666;
            font-size: 1.1em;
        }
        
        .sections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .section h2 {
            color: #495057;
            margin-bottom: 15px;
            font-size: 1.5em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-icon {
            font-size: 1.2em;
        }
        
        .example-list {
            margin-bottom: 20px;
        }
        
        .example-item {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 10px;
            border-left: 4px solid #007bff;
            font-size: 0.9em;
        }
        
        .example-item strong {
            color: #007bff;
        }
        
        .btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,123,255,0.3);
        }
        
        .btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }
        
        .status {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status.loading {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .master-actions {
            text-align: center;
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid #e9ecef;
        }
        
        .btn-master {
            background: linear-gradient(135deg, #28a745, #20c997);
            margin: 0 10px;
            padding: 20px 40px;
            font-size: 1.2em;
        }
        
        .btn-clear {
            background: linear-gradient(135deg, #dc3545, #c82333);
            margin: 0 10px;
            padding: 20px 40px;
            font-size: 1.2em;
        }
        
        .connection-status {
            text-align: center;
            margin-bottom: 20px;
            padding: 10px;
            border-radius: 10px;
            font-weight: bold;
        }
        
        .connected {
            background: #d4edda;
            color: #155724;
        }
        
        .disconnected {
            background: #f8d7da;
            color: #721c24;
        }
        
        @media (max-width: 768px) {
            .sections {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üî• Generador de Datos de Ejemplo</h1>
            <p>Agrega datos de prueba a tu base de datos Firebase con un solo clic</p>
        </div>
        
        <div id="connectionStatus" class="connection-status disconnected">
            üî¥ Conectando a Firebase...
        </div>
        
        <div class="sections">
            <div class="section">
                <h2><span class="section-icon">üë•</span> Usuarios</h2>
                <div class="example-list">
                    <div class="example-item">
                        <strong>Admin:</strong> compuzettaoficial@gmail.com
                    </div>
                    <div class="example-item">
                        <strong>Editor:</strong> editor.lima@ejemplo.com
                    </div>
                    <div class="example-item">
                        <strong>Editor:</strong> editor.cusco@ejemplo.com
                    </div>
                    <div class="example-item">
                        <strong>Usuario:</strong> usuario.ejemplo@gmail.com
                    </div>
                    <div class="example-item">
                        <strong>Usuario:</strong> anfitrion.test@gmail.com
                    </div>
                    <div class="example-item">
                        <strong>Usuario:</strong> visitante.test@gmail.com
                    </div>
                </div>
                <button class="btn" onclick="crearUsuarios()">
                    Crear 6 Usuarios
                </button>
                <div id="usuariosStatus" class="status"></div>
            </div>
            
            <div class="section">
                <h2><span class="section-icon">üìÖ</span> Eventos</h2>
                <div class="example-list">
                    <div class="example-item">
                        <strong>Lima:</strong> Conferencia Hospitalidad 2025
                    </div>
                    <div class="example-item">
                        <strong>Cusco:</strong> Encuentro Cultural Andino
                    </div>
                    <div class="example-item">
                        <strong>Arequipa:</strong> Cumbre de Turismo Sostenible
                    </div>
                    <div class="example-item">
                        <strong>Trujillo:</strong> Festival Gastron√≥mico
                    </div>
                    <div class="example-item">
                        <strong>Iquitos:</strong> Congreso Amaz√≥nico
                    </div>
                    <div class="example-item">
                        <strong>Piura:</strong> Seminario Desarrollo Regional
                    </div>
                </div>
                <button class="btn" onclick="crearEventos()">
                    Crear 6 Eventos
                </button>
                <div id="eventosStatus" class="status"></div>
            </div>
            
            <div class="section">
                <h2><span class="section-icon">üîó</span> Asignaciones</h2>
                <div class="example-list">
                    <div class="example-item">
                        <strong>Lima:</strong> Editor Lima ‚Üí Evento Lima
                    </div>
                    <div class="example-item">
                        <strong>Cusco:</strong> Editor Cusco ‚Üí Evento Cusco
                    </div>
                    <div class="example-item">
                        <strong>Multi:</strong> Editor Lima ‚Üí Evento Arequipa
                    </div>
                    <div class="example-item">
                        <strong>Multi:</strong> Editor Cusco ‚Üí Evento Trujillo
                    </div>
                    <div class="example-item">
                        <strong>Multi:</strong> Editor Lima ‚Üí Evento Iquitos
                    </div>
                    <div class="example-item">
                        <strong>Multi:</strong> Editor Cusco ‚Üí Evento Piura
                    </div>
                </div>
                <button class="btn" onclick="crearAsignaciones()">
                    Crear 6 Asignaciones
                </button>
                <div id="asignacionesStatus" class="status"></div>
            </div>
        </div>
        
        <div class="master-actions">
            <button class="btn btn-master" onclick="crearTodosLosDatos()">
                ‚ö° Crear Todos los Datos
            </button>
            <button class="btn btn-clear" onclick="limpiarTodosLosDatos()">
                üóëÔ∏è Limpiar Todos los Datos
            </button>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    
    <script>
        // Configuraci√≥n Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBFaCbNqpd93Eirj7NDnkKtOS6Ym0rMoiA",
            authDomain: "hospitalidad-29c5c.firebaseapp.com",
            projectId: "hospitalidad-29c5c",
            storageBucket: "hospitalidad-29c5c.appspot.com",
            messagingSenderId: "1061561367897",
            appId: "1:1061561367897:web:57921b5aa3eb7bc3132048"
        };

        // Inicializar Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        
        // Verificar conexi√≥n
        db.enableNetwork().then(() => {
            document.getElementById('connectionStatus').className = 'connection-status connected';
            document.getElementById('connectionStatus').innerHTML = 'üü¢ Conectado a Firebase';
        }).catch(() => {
            document.getElementById('connectionStatus').innerHTML = 'üî¥ Error de conexi√≥n';
        });

        // Datos de ejemplo
        const usuariosEjemplo = [
            {
                uid: "admin-001",
                nombre: "Administrador",
                apellido: "Principal",
                email: "compuzettaoficial@gmail.com",
                rol: "administrador",
                telefono: "+51 999 888 777",
                estado: "activo",
                rating_promedio: 0,
                total_valoraciones: 0,
                eventos_asignados: [],
                createdAt: firebase.firestore.FieldValue.serverTimestamp()
            },
            {
                uid: "editor-lima-001",
                nombre: "Carlos",
                apellido: "Mendoza",
                email: "editor.lima@ejemplo.com",
                rol: "editor",
                telefono: "+51 999 777 666",
                estado: "activo",
                rating_promedio: 4.2,
                total_valoraciones: 8,
                eventos_asignados: [],
                asignado_por: "admin-001",
                fecha_asignacion: firebase.firestore.FieldValue.serverTimestamp(),
                createdAt: firebase.firestore.FieldValue.serverTimestamp()
            },
            {
                uid: "editor-cusco-001",
                nombre: "Mar√≠a",
                apellido: "Quispe",
                email: "editor.cusco@ejemplo.com",
                rol: "editor",
                telefono: "+51 999 666 555",
                estado: "activo",
                rating_promedio: 4.7,
                total_valoraciones: 12,
                eventos_asignados: [],
                asignado_por: "admin-001",
                fecha_asignacion: firebase.firestore.FieldValue.serverTimestamp(),
                createdAt: firebase.firestore.FieldValue.serverTimestamp()
            },
            {
                uid: "usuario-001",
                nombre: "Ana",
                apellido: "Garc√≠a",
                email: "usuario.ejemplo@gmail.com",
                rol: "usuario",
                telefono: "+51 999 555 444",
                estado: "activo",
                rating_promedio: 4.5,
                total_valoraciones: 15,
                eventos_asignados: [],
                createdAt: firebase.firestore.FieldValue.serverTimestamp()
            },
            {
                uid: "anfitrion-001",
                nombre: "Luis",
                apellido: "Rodr√≠guez",
                email: "anfitrion.test@gmail.com",
                rol: "usuario",
                telefono: "+51 999 444 333",
                estado: "activo",
                rating_promedio: 4.8,
                total_valoraciones: 22,
                eventos_asignados: [],
                createdAt: firebase.firestore.FieldValue.serverTimestamp()
            },
            {
                uid: "visitante-001",
                nombre: "Sofia",
                apellido: "Paredes",
                email: "visitante.test@gmail.com",
                rol: "usuario",
                telefono: "+51 999 333 222",
                estado: "activo",
                rating_promedio: 4.3,
                total_valoraciones: 7,
                eventos_asignados: [],
                createdAt: firebase.firestore.FieldValue.serverTimestamp()
            }
        ];

        const eventosEjemplo = [
            {
                id: "evento-lima-001",
                titulo: "Conferencia Hospitalidad 2025",
                descripcion: "Gran conferencia sobre hospitalidad y turismo sostenible en la capital peruana",
                lugar: "Centro de Convenciones Lima",
                ciudad: "Lima",
                region: "Lima",
                fecha_inicio: firebase.firestore.Timestamp.fromDate(new Date('2025-08-15')),
                fecha_fin: firebase.firestore.Timestamp.fromDate(new Date('2025-08-17')),
                imagenURL: "https://example.com/lima-conference.jpg",
                estado: "activo",
                creado_por: "admin-001",
                editores_asignados: [],
                estadisticas: {
                    anfitriones: 0,
                    visitantes: 0,
                    asistentes: 0,
                    emparejamientos: 0
                },
                hoteles: [],
                cocheras: []
            },
            {
                id: "evento-cusco-001",
                titulo: "Encuentro Cultural Andino",
                descripcion: "Celebraci√≥n de la cultura andina y experiencias de hospitalidad tradicional",
                lugar: "Plaza de Armas de Cusco",
                ciudad: "Cusco",
                region: "Cusco",
                fecha_inicio: firebase.firestore.Timestamp.fromDate(new Date('2025-09-10')),
                fecha_fin: firebase.firestore.Timestamp.fromDate(new Date('2025-09-12')),
                imagenURL: "https://example.com/cusco-cultural.jpg",
                estado: "activo",
                creado_por: "admin-001",
                editores_asignados: [],
                estadisticas: {
                    anfitriones: 0,
                    visitantes: 0,
                    asistentes: 0,
                    emparejamientos: 0
                },
                hoteles: [],
                cocheras: []
            },
            {
                id: "evento-arequipa-001",
                titulo: "Cumbre de Turismo Sostenible",
                descripcion: "Evento enfocado en el desarrollo sostenible del turismo en el sur del pa√≠s",
                lugar: "Casa del Moral",
                ciudad: "Arequipa",
                region: "Arequipa",
                fecha_inicio: firebase.firestore.Timestamp.fromDate(new Date('2025-10-05')),
                fecha_fin: firebase.firestore.Timestamp.fromDate(new Date('2025-10-07')),
                imagenURL: "https://example.com/arequipa-summit.jpg",
                estado: "activo",
                creado_por: "admin-001",
                editores_asignados: [],
                estadisticas: {
                    anfitriones: 0,
                    visitantes: 0,
                    asistentes: 0,
                    emparejamientos: 0
                },
                hoteles: [],
                cocheras: []
            },
            {
                id: "evento-trujillo-001",
                titulo: "Festival Gastron√≥mico",
                descripci√≥n: "Celebraci√≥n de la gastronom√≠a norte√±a y experiencias culinarias √∫nicas",
                lugar: "Plaza de Armas de Trujillo",
                ciudad: "Trujillo",
                region: "La Libertad",
                fecha_inicio: firebase.firestore.Timestamp.fromDate(new Date('2025-11-20')),
                fecha_fin: firebase.firestore.Timestamp.fromDate(new Date('2025-11-22')),
                imagenURL: "https://example.com/trujillo-gastro.jpg",
                estado: "activo",
                creado_por: "admin-001",
                editores_asignados: [],
                estadisticas: {
                    anfitriones: 0,
                    visitantes: 0,
                    asistentes: 0,
                    emparejamientos: 0
                },
                hoteles: [],
                cocheras: []
            },
            {
                id: "evento-iquitos-001",
                titulo: "Congreso Amaz√≥nico",
                descripcion: "Encuentro sobre conservaci√≥n y turismo responsable en la Amazon√≠a",
                lugar: "Malec√≥n Tarapac√°",
                ciudad: "Iquitos",
                region: "Loreto",
                fecha_inicio: firebase.firestore.Timestamp.fromDate(new Date('2025-12-08')),
                fecha_fin: firebase.firestore.Timestamp.fromDate(new Date('2025-12-10')),
                imagenURL: "https://example.com/iquitos-amazon.jpg",
                estado: "activo",
                creado_por: "admin-001",
                editores_asignados: [],
                estadisticas: {
                    anfitriones: 0,
                    visitantes: 0,
                    asistentes: 0,
                    emparejamientos: 0
                },
                hoteles: [],
                cocheras: []
            },
            {
                id: "evento-piura-001",
                titulo: "Seminario Desarrollo Regional",
                descripcion: "Seminario sobre desarrollo regional y oportunidades de hospitalidad en el norte",
                lugar: "Universidad de Piura",
                ciudad: "Piura",
                region: "Piura",
                fecha_inicio: firebase.firestore.Timestamp.fromDate(new Date('2026-01-15')),
                fecha_fin: firebase.firestore.Timestamp.fromDate(new Date('2026-01-17')),
                imagenURL: "https://example.com/piura-development.jpg",
                estado: "activo",
                creado_por: "admin-001",
                editores_asignados: [],
                estadisticas: {
                    anfitriones: 0,
                    visitantes: 0,
                    asistentes: 0,
                    emparejamientos: 0
                },
                hoteles: [],
                cocheras: []
            }
        ];

        // Funciones para mostrar status
        function mostrarStatus(elementId, tipo, mensaje) {
            const statusElement = document.getElementById(elementId);
            statusElement.className = `status ${tipo}`;
            statusElement.innerHTML = mensaje;
            statusElement.style.display = 'block';
            
            if (tipo === 'success' || tipo === 'error') {
                setTimeout(() => {
                    statusElement.style.display = 'none';
                }, 5000);
            }
        }

        // Funci√≥n para crear usuarios
        async function crearUsuarios() {
            mostrarStatus('usuariosStatus', 'loading', '‚è≥ Creando usuarios...');
            
            try {
                const batch = db.batch();
                
                usuariosEjemplo.forEach(usuario => {
                    const docRef = db.collection('usuarios').doc(usuario.uid);
                    batch.set(docRef, usuario);
                });
                
                await batch.commit();
                mostrarStatus('usuariosStatus', 'success', '‚úÖ 6 usuarios creados exitosamente');
            } catch (error) {
                mostrarStatus('usuariosStatus', 'error', '‚ùå Error al crear usuarios: ' + error.message);
            }
        }

        // Funci√≥n para crear eventos
        async function crearEventos() {
            mostrarStatus('eventosStatus', 'loading', '‚è≥ Creando eventos...');
            
            try {
                const batch = db.batch();
                
                eventosEjemplo.forEach(evento => {
                    const docRef = db.collection('eventos').doc(evento.id);
                    batch.set(docRef, evento);
                });
                
                await batch.commit();
                mostrarStatus('eventosStatus', 'success', '‚úÖ 6 eventos creados exitosamente');
            } catch (error) {
                mostrarStatus('eventosStatus', 'error', '‚ùå Error al crear eventos: ' + error.message);
            }
        }

        // Funci√≥n para crear asignaciones
        async function crearAsignaciones() {
            mostrarStatus('asignacionesStatus', 'loading', '‚è≥ Creando asignaciones...');
            
            try {
                const asignaciones = [
                    {
                        admin_id: "admin-001",
                        editor_id: "editor-lima-001",
                        evento_id: "evento-lima-001",
                        fecha_asignacion: firebase.firestore.FieldValue.serverTimestamp(),
                        estado: "activa",
                        permisos: {
                            gestionar_anfitriones: true,
                            gestionar_visitantes: true,
                            gestionar_hoteles: true,
                            crear_emparejamientos: true,
                            ver_reportes: true
                        },
                        notas: "Asignaci√≥n completa para evento principal de Lima"
                    },
                    {
                        admin_id: "admin-001",
                        editor_id: "editor-cusco-001",
                        evento_id: "evento-cusco-001",
                        fecha_asignacion: firebase.firestore.FieldValue.serverTimestamp(),
                        estado: "activa",
                        permisos: {
                            gestionar_anfitriones: true,
                            gestionar_visitantes: true,
                            gestionar_hoteles: true,
                            crear_emparejamientos: true,
                            ver_reportes: true
                        },
                        notas: "Asignaci√≥n completa para evento cultural de Cusco"
                    },
                    {
                        admin_id: "admin-001",
                        editor_id: "editor-lima-001",
                        evento_id: "evento-arequipa-001",
                        fecha_asignacion: firebase.firestore.FieldValue.serverTimestamp(),
                        estado: "activa",
                        permisos: {
                            gestionar_anfitriones: true,
                            gestionar_visitantes: true,
                            gestionar_hoteles: false,
                            crear_emparejamientos: true,
                            ver_reportes: true
                        },
                        notas: "Asignaci√≥n parcial para evento de Arequipa"
                    },
                    {
                        admin_id: "admin-001",
                        editor_id: "editor-cusco-001",
                        evento_id: "evento-trujillo-001",
                        fecha_asignacion: firebase.firestore.FieldValue.serverTimestamp(),
                        estado: "activa",
                        permisos: {
                            gestionar_anfitriones: true,
                            gestionar_visitantes: true,
                            gestionar_hoteles: false,
                            crear_emparejamientos: true,
                            ver_reportes: false
                        },
                        notas: "Asignaci√≥n parcial para evento gastron√≥mico"
                    },
                    {
                        admin_id: "admin-001",
                        editor_id: "editor-lima-001",
                        evento_id: "evento-iquitos-001",
                        fecha_asignacion: firebase.firestore.FieldValue.serverTimestamp(),
                        estado: "activa",
                        permisos: {
                            gestionar_anfitriones: true,
                            gestionar_visitantes: false,
                            gestionar_hoteles: false,
                            crear_emparejamientos: false,
                            ver_reportes: true
                        },
                        notas: "Asignaci√≥n limitada para evento amaz√≥nico"
                    },
                    {
                        admin_id: "admin-001",
                        editor_id: "editor-cusco-001",
                        evento_id: "evento-piura-001",
                        fecha_asignacion: firebase.firestore.FieldValue.serverTimestamp(),
                        estado: "activa",
                        permisos: {
                            gestionar_anfitriones: true,
                            gestionar_visitantes: true,
                            gestionar_hoteles: true,
                            crear_emparejamientos: false,
                            ver_reportes: true
                        },
                        notas: "Asignaci√≥n para evento de desarrollo regional"
                    }
                ];

                const batch = db.batch();
                
                asignaciones.forEach((asignacion, index) => {
                    const docRef = db.collection('asignaciones_editores').doc(`asignacion-${index + 1}`);
                    batch.set(docRef, asignacion);
                });
                
                await batch.commit();
                
                // Actualizar eventos_asignados en usuarios
                await actualizarEventosAsignados();
                
                mostrarStatus('asignacionesStatus', 'success', '‚úÖ 6 asignaciones creadas exitosamente');
            } catch (error) {
                mostrarStatus('asignacionesStatus', 'error', '‚ùå Error al crear asignaciones: ' + error.message);
            }
        }

        // Funci√≥n para actualizar eventos asignados en usuarios
        async function actualizarEventosAsignados() {
            const batch = db.batch();
            
            // Actualizar editor lima
            const editorLimaRef = db.collection('usuarios').doc('editor-lima-001');
            batch.update(editorLimaRef, {
                eventos_asignados: ["evento-lima-001", "evento-arequipa-001", "evento-iquitos-001"]
            });
            
            // Actualizar editor cusco
            const editorCuscoRef = db.collection('usuarios').doc('editor-cusco-001');
            batch.update(editorCuscoRef, {
                eventos_asignados: ["evento-cusco-001", "evento-trujillo-001", "evento-piura-001"]
            });
            
            await batch.commit();
        }

        // Funci√≥n para crear todos los datos
        async function crearTodosLosDatos() {
            const btn = event.target;
            btn.disabled = true;
            btn.innerHTML = '‚è≥ Creando todos los datos...';
            
            try {
                await crearUsuarios();
                await new Promise(resolve => setTimeout(resolve, 1000));
                await crearEventos();
                await new Promise(resolve => setTimeout(resolve, 1000));
                await crearAsignaciones();
                
                alert('üéâ ¬°Todos los datos han sido creados exitosamente!');
            } catch (error) {
                alert('‚ùå Error al crear los datos: ' + error.message);
            } finally {
                btn.disabled = false;
                btn.innerHTML = '‚ö° Crear Todos los Datos';
            }
        }

        // Funci√≥n para limpiar todos los datos
        async function limpiarTodosLosDatos() {
            if (!confirm('‚ö†Ô∏è ¬øEst√°s seguro de que quieres eliminar todos los datos de ejemplo? Esta acci√≥n no se puede deshacer.')) {
                return;
            }
            
            const btn = event.target;
            btn.disabled = true;
            btn.innerHTML = '‚è≥ Eliminando datos...';
            
            try {